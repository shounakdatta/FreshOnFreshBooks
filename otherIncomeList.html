<html>
<h3>Other Incomes List</h3>
<table id="otherIncomesTable">
    <tr>
        <th>ID</th>
        <th>Amount</th>
        <th>Currency</th>
        <th>Date</th>
    </tr>
</table>
<script>
    async function getList() {
        const data = await fetch(
            '/api/getOtherIncomes',
            {
                method: 'GET'
            }
        ).then(res => res.json())

        const { response: { result: { other_income } } } = data;
        const table = document.getElementById('otherIncomesTable')
        other_income.forEach(income => {
            const {
                amount: { amount, code },
                incomeid,
                date
            } = income;
            const rowData = {
                incomeid,
                amount,
                code,
                date
            }
            const row = document.createElement('tr')
            Object.values(rowData).forEach(key => {
                const cell = document.createElement('th')
                cell.innerText = key
                row.appendChild(cell)
            });
            table.appendChild(row)
        });

    }

    document.addEventListener('DOMContentLoaded', getList, false)
</script>

</html>